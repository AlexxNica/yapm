{
  "name": "status-bar",
  "version": "1.1.1",
  "description": "A status bar for file transfers",
  "keywords": ["status", "bar", "file", "transfer", "speed", "progress",
      "stream"],
  "author": {
  "name": "Gabriel Llamas",
  "email": "gagle@outlook.com"
},
  "repository": {
  "type": "git",
  "url": "git://github.com/gagle/node-status-bar.git"
},
  "engines": {
    "node": ">=0.10"
  },
  "dependencies": {
    "progress-bar-formatter": "1.0.x"
  },
  "license": "MIT",
  "main": "lib",
  "readme": "status-bar\n==========\n\n#### A status bar for file transfers ####\n\n[![NPM version](https://badge.fury.io/js/status-bar.png)](http://badge.fury.io/js/status-bar \"Fury Version Badge\")\n[![Dependency Status](https://david-dm.org/gagle/node-status-bar.png)](https://david-dm.org/gagle/node-status-bar \"David Dependency Manager Badge\")\n\n[![NPM installation](https://nodei.co/npm/status-bar.png?mini=true)](https://nodei.co/npm/status-bar \"NodeICO Badge\")\n\n#### Example ####\n\n```javascript\nvar statusBar = require (\"status-bar\");\n\nvar bar = statusBar.create ({\n  //Total file size\n  total: size,\n  //Render function\n  render: function (stats){\n    //Print the status bar as you like\n    process.stdout.write (filename + \" \" + \n        this.format.storage (stats.currentSize) + \" \" +\n        this.format.speed (stats.speed) + \" \" +\n        this.format.time (stats.remainingTime) + \" [\" +\n        this.format.progressBar (stats.percentage) + \"] \" +\n        this.format.percentage (stats.percentage));\n    process.stdout.cursorTo (0);\n  }\n});\n\n//Update the status bar when you send or receive a chunk of a file\nobj.on (\"some-event\", function (chunk){\n  //You can pass any object that contains a length property or a simple number\n  bar.update (chunk);\n});\n\n//Or simply pipe() things to it!\nstream.pipe (bar);\n\n//It will print something like this\n//a-file                  17.8 MiB   23.6M/s 00:13 [#·······················]   6%\n```\n\n#### Why you should try this module ####\n\n- It doesn't print anything, it just calculates and returns raw data and provides default formatting functions. Other modules similar to this force you to use their own formatting functions with the `readline` module, which is very unstable and may cause problems if you are already using a `readline` instance.\n- The status bar can be displayed wherever you want, it is simply a string, so you can render it in the console, in HTML (probably with your own progress bar) sending it via websockets or with [node-webkit](https://github.com/rogerwang/node-webkit), etc.\n- You decide how to format and arrange the elements. The default formatting functions have a fixed length, so you can format the status bar very easily.\n- It is very easy to use. Just `pipe()` things to it!\n\n#### Download example ####\n\n```javascript\nvar http = require (\"http\");\nvar statusBar = require (\"status-bar\");\n\nvar url = \"http://nodejs.org/dist/latest/node.exe\";\n\nhttp.get (url, function (res){\n  var bar = statusBar.create ({\n    total: res.headers[\"content-length\"],\n    render: function (stats){\n      process.stdout.write (\n          url + \" \" +\n          this.format.storage (stats.currentSize) + \" \" +\n          this.format.speed (stats.speed) + \" \" +\n          this.format.time (stats.remainingTime) + \" [\" +\n          this.format.progressBar (stats.percentage) + \"] \" +\n          this.format.percentage (stats.percentage));\n      process.stdout.cursorTo (0);\n    }\n  });\n  \n  res.pipe (bar);\n}).on (\"error\", function (error){\n  console.error (error);\n});\n```\n\nPrints something similar to this:\n\n```\nhttp://nodejs.org/dist/latest/node.exe    2.7 MiB  502.4K/s 00:07 [############············]  49%\n```\n\n#### Render function examples ####\n\n- `pacman` from Arch Linux:\n  \n  ```\n  a-file                  17.8 MiB   23.6M/s 00:13 [#·······················]   6%\n  ```\n\n  ```javascript\n  var statusBar = require (\"status-bar\");\n  \n  var formatFilename = function (filename){\n    //80 - 59\n    var filenameMaxLength = 21;\n    if (filename.length > filenameMaxLength){\n      filename = filename.slice (0, filenameMaxLength - 3) + \"...\";\n    }else{\n      var remaining = filenameMaxLength - filename.length;\n      while (remaining--){\n        filename += \" \";\n      }\n    }\n    return filename;\n  };\n  \n  filename = formatFilename (filename);\n  \n  var render = function (stats){\n    process.stdout.write (filename + \" \" + \n        this.format.storage (stats.currentSize) + \" \" +\n        this.format.speed (stats.speed) + \" \" +\n        this.format.time (stats.remainingTime) + \" [\" +\n        this.format.progressBar (stats.percentage) + \"] \" +\n        this.format.percentage (stats.percentage));\n    process.stdout.cursorTo (0);\n  };\n  \n  var bar = statusBar.create ({\n    total: ...,\n    render: render\n  });\n  ```\n\n- `git clone`:\n  \n  ```\n  Receiving objects: 18% (56655992/311833402), 54.0 MiB | 26.7M/s\n  ```\n\n  ```javascript\n  var statusBar = require (\"status-bar\");\n  \n  var render = function (stats){\n    process.stdout.write (\"Receiving objects: \" +\n        this.format.percentage (stats.percentage).trim () +\n        \" (\" + stats.currentSize + \"/\" + stats.totalSize + \"), \" +\n        this.format.storage (stats.currentSize).trim () + \" | \" +\n        this.format.speed (stats.speed).trim ());\n    process.stdout.cursorTo (0);\n  };\n  \n  \n  var bar = statusBar.create ({\n    total: ...,\n    render: render\n  });\n  ```\n\n#### Functions ####\n\n- [_module_.create(options) : StatusBar](#create)\n\n#### Objects ####\n\n- [StatusBar](#statusbar_object)\n\n---\n\n<a name=\"create\"><\/a>\n___module_.create(options) : StatusBar__\n\nReturns a new [StatusBar](#statusbar_object) instance.\n\nOptions:\n\n- __finish__ - _Function_  \n\tFunction that is called when the file transfer has finished.\n- __frequency__ - _Number_  \n  The rendering frequency in milliseconds. It must be a positive value. Default is 200.\n- __progressBarComplete__ - _String_  \n  The character that shows completion progress. Default is `#`.\n- __progressBarIncomplete__ - _String_  \n  The character that shows the remaining progress. Default is `·`.\n- __progressBarLength__ - _Number_  \n  The length of the progress bar. Default is 24.\n- __render__ - _Function_  \n\tFunction that is called when the status bar needs to be printed. It is required. It receives the stats object as an argument. All of its properties contain raw data, so you need to format them. You can use the default formatting functions.\n\n  Stats:\n  \n  - __currentSize__ - _Number_  \n  The current size in bytes.\n  - __remainingSize__ - _Number_  \n  The remaining size in bytes.\n  - __totalSize__ - _Number_  \n  The total size in bytes.\n  - __percentage__ - _Number_  \n  The complete percentage. A number between 0 and 1.\n  - __speed__ - _Number_  \n  The estimated current speed in bytes per second.\n  - __elapsedTime__ - _Number_  \n  The elapsed time in seconds.\n  - __remainingTime__ - _Number_  \n  The estimated remaining time in seconds. If the remaining time cannot be estimated because the status bar needs at least 2 chunks or because the transfer it's hung up, it returns `undefined`.\n  \n- __total__ - _Number_  \n  The total size of the file. This option is required.\n\n---\n\n<a name=\"statusbar_object\"><\/a>\n__StatusBar__\n\n__Methods__\n\n- [StatusBar#cancel() : undefined](#statusbar_cancel)\n- [StatusBar#update(chunk) : undefined](#statusbar_update)\n\n__Properties__\n\n- [StatusBar#format : Formatter](#statusbar_format)\n\n---\n\n<a name=\"statusbar_cancel\"><\/a>\n__StatusBar#cancel() : undefined__\n\nWhen you need to cancel the rendering of the status bar because the transfer has been aborted due to an error or any other reason, call to this function to clear the timer.\n\n---\n\n<a name=\"statusbar_format\"><\/a>\n__StatusBar#format : Formatter__\n\nReturns a [Formatter](#formatter) instance.\n\n---\n\n<a name=\"statusbar_update\"><\/a>\n__StatusBar#update(chunk) : undefined__\n\nUpdates the status bar. The `chunk` can be any object with a length property or a simple number.\n\n---\n\n<a name=\"formatter\"><\/a>\n__Formatter__\n\n__Methods__\n\n- [Formatter#percentage(percentage) : String](#formatter-percentage)\n- [Formatter#progressBar(percentage) : String](#formatter-progressBar)\n- [Formatter#speed(bytesPerSecond) : String](#formatter-speed)\n- [Formatter#storage(bytes) : String](#formatter-storage)\n- [Formatter#time(seconds) : String](#formatter-time)\n\n---\n\n<a name=\"formatter-percentage\"><\/a>\n__Formatter#percentage(percentage) : String__\n\nThe percentage must be a number between 0 and 1. Result string length: 4.\n\n```javascript\nconsole.log (this.format.percentage (0.5));\n// 50%\n```\n\n---\n\n<a name=\"formatter-progressbar\"><\/a>\n__Formatter#progressBar(percentage) : String__\n\nThe percentage must be a number between 0 and 1. Result string length: the length configured with the option `progressBarLength`.\n\n```javascript\nconsole.log (this.format.progressBar (0.06));\n//#·······················\n```\n\n---\n\n<a name=\"formatter-speed\"><\/a>\n__Formatter#speed(bytesPerSecond) : String__\n\nSpeed in bytes per second. Result string length: 9.\n\n```javascript\nconsole.log (this.format.speed (30098226));\n//  30.1M/s\n```\n\n---\n\n<a name=\"formatter-storage\"><\/a>\n__Formatter#storage(bytes) : String__\n\nResult string length: 10.\n\n```javascript\nconsole.log (this.format.storage (38546744));\n//  36.8 MiB\n```\n\n---\n\n<a name=\"formatter-time\"><\/a>\n__Formatter#time(seconds) : String__\n\nResult string length: 5 (_min_:_sec_). If `seconds` is undefined it prints `--:--`.\n\n```javascript\nconsole.log (this.format.time (63));\n//01:03\n```",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/gagle/node-status-bar/issues"
  },
  "homepage": "https://github.com/gagle/node-status-bar",
  "_id": "status-bar@1.1.1",
  "dist": {
    "shasum": "f371cc216bde9a483fc7ba35c5b69f17ac2a6894"
  },
  "_resolved": "git://github.com/gagle/node-status-bar#858316a232bd388afc60e3d10241105bffd3c210",
  "_from": "git://github.com/gagle/node-status-bar",
  "_fromGithub": true
}
